
<div *ngIf="!isAdmin">
  <div class="container mt-5">
    <h4 class="fw-bold">{{isAdmin ? "Thêm task cho nhân viên" : "Dự án của tôi"}}</h4>
    <div class="list-group" *ngIf="memberDetailProject.employeeProjects?.length">
      <div class="list-group-item list-group-item-action flex-column align-items-start mb-3 cursor-pointer"
        *ngFor="let project of memberDetailProject.employeeProjects">
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1"><strong>{{ project.nameProject }}</strong></h5>
          <small class="text-muted">{{ project.dayStart | date: 'dd/MM/yyyy' }}</small>
        </div>
        <p class="mb-1">
          Trạng thái:
          <span class=" text-success" [ngClass]="{
              'badge-success': project.statusProject,
              'badge-danger': !project.statusProject
            }">{{ project.statusProject ? 'Đang hoạt động' : 'Đã kết thúc' }}</span>
        </p>

        <div class="d-flex justify-content-end gap-2">
          <div *ngIf="isAdmin">
            <button class="btn btn-success">Thêm Task</button>
          </div>
          <div *ngIf="!isAdmin">
            <button class="btn btn-success">Xem Task</button>
          </div>
          <div *ngIf="!isAdmin">
            <button class="btn btn-warning" (click)="leaveProject(project._id)">Rời dự án</button>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="!memberDetailProject.employeeProjects?.length">
      <p>Không có dự án nào được nhận.</p>
    </div>
  </div>
</div>

<div *ngIf="isAdmin">
  <div class="container mt-5">
    <h4 class="fw-bold">{{isAdmin ? "Thêm task cho nhân viên" : "Dự án của tôi"}}</h4>
    <div class="list-group" *ngIf="memberAllProject?.length ">
      <div class="list-group-item list-group-item-action flex-column align-items-start mb-3 cursor-pointer"
        *ngFor="let project of memberAllProject">
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1"><strong>{{ project.employeeId.fullname }} ( {{ project.employeeId.statusWorking ? "Đang làm việc" : "Bận" }}  )</strong></h5>

        </div>
        <div *ngFor="let employeeProjects of project.employeeProjects">
          <h5 class="mb-1"><strong>{{ employeeProjects.nameProject }}</strong></h5>
        <small class="text-muted">{{ employeeProjects.dayStart | date: 'dd/MM/yyyy' }}</small>
        <p class="mb-1">
          Trạng thái:
          <span class=" text-success" [ngClass]="{
              'badge-success': employeeProjects.statusProject,
              'badge-danger': !employeeProjects.statusProject
            }">{{ employeeProjects.statusProject ? 'Đang hoạt động' : 'Đã kết thúc' }}</span>
        </p>
      </div>

        <div class="d-flex justify-content-end gap-2">
          <div *ngIf="isAdmin">
            <button class="btn btn-success">Thêm Task</button>
          </div>
          <div *ngIf="!isAdmin">
            <button class="btn btn-success">Xem Task</button>
          </div>
          <div *ngIf="!isAdmin">
            <button class="btn btn-warning" (click)="leaveProject(project._id)">Rời dự án</button>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="!memberAllProject.length">
      <p>Không có dự án nào được nhận.</p>
    </div>
  </div>
</div>

